<!DOCTYPE html>
<html>
    <head>
        <title>Dashboard</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-danger alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span> </button>
                    {{message}}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    <center>
    <h1>Dashboard</h1>
    <table id="students" border = "1">
        <tr>
            <th colspan="4" style="text-align: center">
            <h2>Students</h2>
            </th>
        </tr>
        <tr>
            <th>ID</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Results</th>
        </tr>
        {% for student in students %}
        <tr>
            <td>{{student.student_id}}</td>
            <td>{{student.first_name}}</td>
            <td>{{student.last_name}}</td>
            <td><a href="/student/{{student.student_id}}">View Results</a></td>
        </tr>
        {% else %}
        <tr>
            <h2>No Student Entries</h2>
        </tr>
        {% endfor %}
        <br>
    </table>
    <br>
    <table id="quizzes" border = "1">
        <tr>
            <th style="text-align: center" colspan="4">
                <h2>Quizzes</h2>
            </th>
        </tr>
        <tr>
            <th>ID</th>
            <th>Subject</th>
            <th>Number of Questions</th>
            <th>Date</th>
        </tr>
        {% for quiz in quizzes %}
        <tr>
            <td>{{quiz.quiz_id}}</td>
            <td>{{quiz.subject}}</td>
            <td>{{quiz.questions}}</td>
            <td>{{quiz.date}}</td>
        </tr>
        {% else %}
        <tr style="width:100%">
            <h2>No Results</h2>
        </tr>
        {% endfor %}
    </table>
    </body>
    <br>
    <div>
        <a href="/student/add">Add Student Page</a>
    </div>
    <br>
    <div>
        <a href="/quiz/add">Add Quiz Page</a>
    </div>
    <br>
    <div>
        <a href="/results/add">Add Quiz Result Page</a>
    </div>
</html>
